{"ast":null,"code":"import _defineProperty from\"/Users/ring/Desktop/seir/unit4/final_project/idea/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ring/Desktop/seir/unit4/final_project/idea/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ring/Desktop/seir/unit4/final_project/idea/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axiosInstance from\"../../axios\";import{useNavigate}from\"react-router-dom\";import{Form,Col,Row,Button,Container}from\"react-bootstrap\";import\"./Login.css\";import{Link}from'react-router-dom';import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var navigate=useNavigate();var initialLoginData=Object.freeze({email:\"\",password:\"\"});var _useState=useState(initialLoginData),_useState2=_slicedToArray(_useState,2),LoginData=_useState2[0],setLoginData=_useState2[1];var handleChange=function handleChange(e){setLoginData(_objectSpread(_objectSpread({},LoginData),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(LoginData);axiosInstance.post(\"api/auth/signin/\",{user:{email:LoginData.email,password:LoginData.password}}).then(function(res){console.log(res);localStorage.setItem(\"token\",res.data.user.token);axiosInstance.defaults.headers.common[\"Authorization\"]=\"Token \"+localStorage.getItem(\"token\");navigate('/main');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"LogIn\"}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{autoFocus:true,type:\"email\",name:\"email\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(Button,{className:\"login-button\",block:true,size:\"lg\",type:\"submit\",variant:\"dark\",children:\"Login\"})]})})]});}export default Login;","map":{"version":3,"sources":["/Users/ring/Desktop/seir/unit4/final_project/idea/src/component/Login/Login.js"],"names":["React","useState","axiosInstance","useNavigate","Form","Col","Row","Button","Container","Link","Redirect","Login","navigate","initialLoginData","Object","freeze","email","password","LoginData","setLoginData","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","post","user","then","res","localStorage","setItem","data","token","defaults","headers","common","getItem"],"mappings":"sZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,aAA1B,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,IAAT,CAAeC,GAAf,CAAoBC,GAApB,CAAyBC,MAAzB,CAAiCC,SAAjC,KAAkD,iBAAlD,CACA,MAAO,aAAP,CACA,OAAQC,IAAR,KAAoB,kBAApB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,wFACA,QAASC,CAAAA,KAAT,EAAiB,CACf,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,gBAAgB,CAAGC,MAAM,CAACC,MAAP,CAAc,CACrCC,KAAK,CAAE,EAD8B,CAErCC,QAAQ,CAAE,EAF2B,CAAd,CAAzB,CAKA,cAAkChB,QAAQ,CAACY,gBAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BF,YAAY,gCACPD,SADO,wBAETG,CAAC,CAACC,MAAF,CAASC,IAFA,CAEOF,CAAC,CAACC,MAAF,CAASE,KAFhB,GAAZ,CAID,CALD,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,CAAD,CAAO,CAC1BA,CAAC,CAACK,cAAF,GACAC,OAAO,CAACC,GAAR,CAAYV,SAAZ,EAEAhB,aAAa,CACV2B,IADH,oBAC4B,CACxBC,IAAI,CAAE,CAAEd,KAAK,CAAEE,SAAS,CAACF,KAAnB,CAA0BC,QAAQ,CAAEC,SAAS,CAACD,QAA9C,CADkB,CAD5B,EAIGc,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,GAAG,CAACG,IAAJ,CAASL,IAAT,CAAcM,KAA5C,EACAlC,aAAa,CAACmC,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsC,eAAtC,EACE,SAAWN,YAAY,CAACO,OAAb,CAAqB,OAArB,CADb,CAEE5B,QAAQ,CAAC,OAAD,CAAR,CACH,CAVH,EAWD,CAfD,CAgBA,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,6BADF,cAEE,KAAC,SAAD,wBACE,MAAC,IAAD,EAAM,QAAQ,CAAEa,YAAhB,wBACE,MAAC,IAAD,CAAM,KAAN,EAAY,IAAI,CAAC,IAAjB,CAAsB,SAAS,CAAC,OAAhC,wBACE,KAAC,IAAD,CAAM,KAAN,oBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,SAAS,KAAvB,CAAwB,IAAI,CAAC,OAA7B,CAAqC,IAAI,CAAC,OAA1C,CAAiD,QAAQ,CAAEL,YAA3D,EAFF,GADF,cAKE,MAAC,IAAD,CAAM,KAAN,EAAY,IAAI,CAAC,IAAjB,CAAsB,SAAS,CAAC,UAAhC,wBACE,KAAC,IAAD,CAAM,KAAN,uBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,IAAI,CAAC,UAAnC,CAA6C,QAAQ,CAAEA,YAAvD,EAFF,GALF,cAUE,KAAC,MAAD,EAAQ,SAAS,CAAC,cAAlB,CAAgC,KAAK,KAArC,CAAsC,IAAI,CAAC,IAA3C,CAAgD,IAAI,CAAC,QAArD,CAA8D,OAAO,CAAC,MAAtE,mBAVF,GADF,EAFF,GADF,CAsBD,CAED,cAAeT,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axiosInstance from \"../../axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Form, Col, Row, Button, Container } from \"react-bootstrap\";\nimport \"./Login.css\";\nimport {Link}  from 'react-router-dom';\nimport { Redirect } from \"react-router-dom\";\nfunction Login() {\n  const navigate = useNavigate();\n  const initialLoginData = Object.freeze({\n    email: \"\",\n    password: \"\",\n  });\n\n  const [LoginData, setLoginData] = useState(initialLoginData);\n\n  const handleChange = (e) => {\n    setLoginData({\n      ...LoginData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(LoginData);\n\n    axiosInstance\n      .post(`api/auth/signin/`, {\n        user: { email: LoginData.email, password: LoginData.password },\n      })\n      .then((res) => {\n        console.log(res)\n        localStorage.setItem(\"token\", res.data.user.token);\n        axiosInstance.defaults.headers.common[\"Authorization\"] =\n          \"Token \" + localStorage.getItem(\"token\");\n          navigate('/main');\n      });\n  };\n  return (\n    <div className=\"login-wrapper\">\n      <h1>LogIn</h1>\n      <Container>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group size=\"lg\" controlId=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control autoFocus type=\"email\" name=\"email\"onChange={handleChange} />\n          </Form.Group>\n          <Form.Group size=\"lg\" controlId=\"password\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control type=\"password\" name=\"password\"onChange={handleChange} />\n          </Form.Group>\n\n          <Button className=\"login-button\"block size=\"lg\" type=\"submit\" variant=\"dark\">\n            Login\n          </Button>\n\n        </Form>\n      </Container>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from\"/Users/ring/Desktop/seir/unit4/final_project/idea/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/ring/Desktop/seir/unit4/final_project/idea/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/ring/Desktop/seir/unit4/final_project/idea/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./Main.css';import FloatingLabel from'react-bootstrap/esm/FloatingLabel';import{Form,Button,Card}from'react-bootstrap';import React,{useEffect,useState}from'react';import{useParams}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Main(){var initialForm=Object.freeze({title:'',content:''});var _useState=useState(initialForm),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState([{title:'',content:''}]),_useState4=_slicedToArray(_useState3,2),ideasList=_useState4[0],setIdeasList=_useState4[1];var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(form);fetch(\"http://localhost:8000/ideas/\",{method:'POST',body:JSON.stringify({title:form.title,content:form.content}),headers:{'Content-Type':'application/json',\"Authorization\":\"Token \"+localStorage.token}}).then(function(res){fetch(\"http://localhost:8000/ideas/\",{headers:{\"Authorization\":\"Token \"+localStorage.token}}).then(function(response){return response.json();}).then(function(data){console.log(data);setIdeasList(data);});console.log(res);});};var makeIdeaListCall=function makeIdeaListCall(){fetch(\"http://localhost:8000/ideas/\",{headers:{\"Authorization\":\"Token \"+localStorage.token}}).then(function(response){return response.json();}).then(function(data){console.log(data);setIdeasList(data);});};useEffect(function(){console.log(\"hi\");makeIdeaListCall();},[]);console.log(ideasList);var handleDelete=function handleDelete(id){return function(event){event.preventDefault();fetch(\"http://localhost:8000/idea/\".concat(id,\"/\"),{method:'Delete',headers:{'Content-Type':'application/json',\"Authorization\":\"Token \"+localStorage.token}}).then(function(res){fetch(\"http://localhost:8000/ideas/\",{headers:{\"Authorization\":\"Token \"+localStorage.token}}).then(function(response){return response.json();}).then(function(data){console.log(data);setIdeasList(data);});console.log(res);});};};var ideaReadList=ideasList.map(function(idea){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{style:{width:'18rem'},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:idea.title}),/*#__PURE__*/_jsx(Card.Text,{children:idea.content}),/*#__PURE__*/_jsx(Button,{onClick:handleDelete(idea.id),variant:\"dark\",children:\"Delete\"})]})})});});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Let Come Up Some New Ideas\"}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingTextarea\",label:\"title\",className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"title\",placeholder:\"title\",onChange:handleChange})}),/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingTextarea2\",label:\"Contents\",children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"content\",style:{height:'100px'},name:\"content\",onChange:handleChange})})]}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",type:\"submit\",onClick:handleSubmit,children:\"ADD\"}),/*#__PURE__*/_jsx(\"ul\",{children:ideaReadList})]});}export default Main;","map":{"version":3,"sources":["/Users/ring/Desktop/seir/unit4/final_project/idea/src/component/Main/Main.js"],"names":["FloatingLabel","Form","Button","Card","React","useEffect","useState","useParams","Main","initialForm","Object","freeze","title","content","form","setForm","ideasList","setIdeasList","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","console","log","fetch","method","body","JSON","stringify","headers","localStorage","token","then","res","response","json","data","makeIdeaListCall","handleDelete","id","event","ideaReadList","map","idea","width","height"],"mappings":"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","sourcesContent":["import './Main.css'\nimport FloatingLabel from 'react-bootstrap/esm/FloatingLabel';\nimport \n{Form,\n  Button,\n  Card}\n   from 'react-bootstrap'\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from \"react-router\"\n\n\nfunction Main (){\n  const initialForm = Object.freeze({\n    title:'',\n    content:'',\n  })\n  const [form,setForm]=useState(initialForm)\n  const [ideasList,setIdeasList]=useState([{\n    title:'',\n    content:''\n  }])\n  const handleChange = (e) =>{\n    setForm({\n      ...form,\n      [e.target.name]:e.target.value.trim(),\n    })\n  }\n\n  const handleSubmit = (e) =>{\n    e.preventDefault();\n    console.log(form)\n    fetch(\"http://localhost:8000/ideas/\",{\n      method:'POST',\n      body: JSON.stringify(\n        {title:form.title,\n        content:form.content}),\n      headers:{\n        'Content-Type':'application/json',\n        \"Authorization\":\"Token \"+localStorage.token\n      }\n    })\n      .then((res)=>{\n      fetch(\"http://localhost:8000/ideas/\",{\n      headers:{\n      \"Authorization\":\"Token \"+localStorage.token\n    }})\n            .then((response) => response.json())\n            .then((data) => {\n              console.log(data)\n              setIdeasList(data)});\n        console.log(res)\n      })\n    }\nconst makeIdeaListCall = () =>{\n      fetch(\"http://localhost:8000/ideas/\",{\n        headers:{\n        \"Authorization\":\"Token \"+localStorage.token\n      }})\n              .then((response) => response.json())\n              .then((data) => {\n                console.log(data)\n                setIdeasList(data)});\n  }\n  useEffect(()=> {\n    console.log(\"hi\")\n      makeIdeaListCall()\n  },[])\n\n  console.log(ideasList)\n\n\n\n  const handleDelete =(id)=>{\n    return (event)=>{\n    event.preventDefault();\n    fetch(`http://localhost:8000/idea/${id}/`,{\n      method:'Delete',\n      headers:{\n        'Content-Type':'application/json',\n        \"Authorization\":\"Token \"+localStorage.token\n      }\n    }).then((res)=>{\n      fetch(\"http://localhost:8000/ideas/\",{\n      headers:{\n      \"Authorization\":\"Token \"+localStorage.token\n    }})\n            .then((response) => response.json())\n            .then((data) => {\n              console.log(data)\n              setIdeasList(data)});\n        console.log(res)\n      })\n  }}\n\nconst ideaReadList = ideasList.map(idea=>{\n  return(\n    <div>\n  <Card style={{ width: '18rem' }}>\n  <Card.Body>\n    <Card.Title>{idea.title}</Card.Title>\n    <Card.Text>\n    {idea.content}\n    </Card.Text>\n    <Button onClick={handleDelete(idea.id)} variant=\"dark\">Delete</Button>\n  </Card.Body>\n</Card>\n    </div>  \n  )  \n})\nreturn(\n    \n  <div>\n          <h1>Let Come Up Some New Ideas</h1>\n      <>\n    <FloatingLabel controlId=\"floatingTextarea\" label=\"title\" className=\"mb-3\">\n    <Form.Control as=\"textarea\" name=\"title\"placeholder=\"title\" onChange={handleChange}/>\n  </FloatingLabel>\n  <FloatingLabel controlId=\"floatingTextarea2\" label=\"Contents\">\n    <Form.Control\n      as=\"textarea\"\n      placeholder=\"content\"\n      style={{ height: '100px' }}\n      name=\"content\"\n      onChange={handleChange}\n    />\n  </FloatingLabel>\n</>\n<Button variant=\"dark\" type=\"submit\" onClick={handleSubmit}>ADD</Button>\n<ul>\n{ideaReadList}  \n</ul>\n\n  </div>\n\n)\n}\n\nexport default Main"]},"metadata":{},"sourceType":"module"}